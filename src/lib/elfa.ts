// ELFA Network Verification
// Checks if a provider's license number is in the SF ELFA network
// Data sourced from: https://sfdec.org/early-learning-for-all/early-learning-programs/

// ELFA FCC License Numbers (updated from SFDEC website)
const ELFA_FCC_LICENSES = new Set([
  '384001451', '384004346', '384005038', '380506194', '384004676', '384004048',
  '384004812', '384004567', '384001371', '384004444', '384004615', '384004759',
  '384004553', '384001615', '384000235', '384001441', '384004781', '384000091',
  '384004981', '384004691', '384002721', '384004713', '384004316', '384005021',
  '384004130', '384001200', '384004785', '384005081', '384000965', '384004655',
  '384004687', '384004907', '384004721', '384002634', '384005078', '384002651',
  '384004441', '384004380', '384000326', '384001865', '384004370', '384004336',
  '384004420', '384002608', '384001580', '384002640', '384004318', '384004864',
  '384002655', '384001561', '384004141', '384004833', '384005064', '384001472',
  '384004099', '384004750', '384004260', '384004607', '384004697', '384005049',
  '384002590', '384001362', '384003060', '384002432', '384001158', '384001123',
  '384002205', '384002799', '384001958', '384000267', '384001060', '384000583',
  '384000908', '384002759', '384002723', '384004514', '384000113', '384001801',
  '384001652', '384003002', '384000435', '384002458', '384004815', '384004660',
  '384004079', '384004036', '384000014', '384002452', '384002482', '384002591',
  '384004731', '384004874', '384005066', '384004172', '384004175', '384000283',
  '384004670', '384004227', '384000771', '384001308', '384002207', '384002347',
  '384001229', '384001750', '384000888', '384004319', '384001637', '384002790',
  '384004889', '384004474', '384002768', '384002310', '384001283', '384002641',
  '384002032', '384002683', '384004724', '384004511', '384004015', '384002668',
  '384002581', '384002024', '384002842', '384004483', '384001565', '384004022',
  '384001352', '384001941', '384004784', '384001942', '384002969', '384002995',
  '384002694', '384002628', '384000561', '384004726', '384002624', '384001894',
  '384004960', '384002487', '384004546', '384001630', '384002981', '384004332',
  '384002779', '384004723', '384002808', '384000941', '384001818', '384000990',
  '384002817', '384004378', '384001821', '384004672', '384002596', '384004312',
  '384004520', '384004257', '384004031', '384001211', '384002804', '384004822',
  '384000760', '384002354', '384001061', '384001563', '384001499', '384004808',
  '384001349', '380505839', '384004973', '384002327', '384003006', '384005000',
  '384001557', '384004662', '384002796', '384000096', '384004320', '384004118',
  '384002430', '384000808', '384004467', '384004182', '380505442', '384002833',
  '384004650', '384001896', '384001225', '384004490', '384004659', '384004661',
  '384001170', '384004591', '384004368', '384001777', '384005010', '384002537',
  '384002326', '384002486', '384001027', '384004682', '384002695', '384001285',
  '384004419', '384002084', '384004125', '384004699', '384004816', '384004865',
  '384004842', '384004286', '384004554', '384003034', '384001364', '384004772',
  '384001682', '384002022', '384003080', '384003074', '384001053', '384000744',
  '380506504', '384004755', '384004349', '384004143', '384000408', '384004673',
  '384000560', '384004410', '384004617', '384002797', '380504493', '384000854',
  '384001939', '384002630', '384004120', '384002174', '384002669', '384004330',
  '380503937', '384004180', '384001751', '384002489', '384002830', '384001433',
  '384004863', '384000735', '384002440', '384001728', '384004707', '384004539',
  '384004719', '384002703', '384003054', '384004602', '384004683', '384004905',
  '384004519', '384002658', '384000824', '384002409', '384002847', '384000052',
  '384000508', '384002510', '384002603', '384000083', '384004742', '384004242',
  '384004851', '384004214', '384004710', '384003099', '384004537', '384002976',
  '384004767', '384004061', '384002600', '384002423', '384001466', '384004608',
  '384004766', '384002986', '384004210', '384004238', '384002800', '384001390',
  '384002146', '384002508', '384001787', '384002665', '384004829', '384001290',
  '384001129', '384001899', '384004680', '384004041', '384004347', '384004541',
  '384004880', '384001809', '384004213', '384002157', '384004382', '384001041',
  '384002639', '384001703', '384002633', '384004473', '384004630', '384004524',
  '384002533', '384002094', '384004926', '384004679', '384000843',
]);

/**
 * Checks if a license number is in the ELFA network
 */
export async function checkElfaStatus(licenseNumber: string): Promise<boolean> {
  const cleanLicense = licenseNumber.trim();
  const isElfa = ELFA_FCC_LICENSES.has(cleanLicense);
  console.log(`ELFA check: ${cleanLicense} = ${isElfa}`);
  return isElfa;
}

/**
 * Get count of ELFA licenses in database
 */
export function getElfaLicenseCount(): number {
  return ELFA_FCC_LICENSES.size;
}
